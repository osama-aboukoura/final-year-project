{% load staticfiles %}
<link rel="stylesheet" type="text/css" href="{% static 'style.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'allPosts/style.css' %}" />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns" crossorigin="anonymous">

{% include "main/navigationbar.html" %}

<div class='wrapper'>
    {% if posts %}
        <h1 class='text-wrap'>{{topic}}:</h1>
        <table class="postsTable">
            <tr>
                <th width='10%'></th>
                <th width='40%'>Post</th>
                <th width='30%'>Discussion Started By</th>
                <th width='20%'>Comments</th>
            </tr>
            {% for post in posts %}
                <tr>
                    <td class='text-wrap'>{% if post.postNumberOfVotes < 0 %}<i class="fas fa-angle-double-down"></i>{% else %}<i class="fas fa-angle-double-up"></i>{% endif %} <strong>{{post.postNumberOfVotes}}</strong></td>
                    <td class='text-wrap'><a href="{% url 'post:show-post' post.id %}">{{post.postTitle}}</a></td>
                    <td class='text-wrap'><a href="{% url 'main:profile' post.postedBy %}" >{{post.postedBy.user.first_name}} {{post.postedBy.user.last_name}}</a></td>
                    <td class='text-wrap'>{{post.postNumberOfComments}}&nbsp;&nbsp;<i class="far fa-comment-alt"></i></td>
                </tr>
            {% endfor %}
        </table>

        <div class="pagination">
            <span class="step-links">
                {% if posts.has_previous %}
                    <a href="?page={{ posts.previous_page_number }}"><i class="far fa-arrow-alt-circle-left"></i></a>
                {% endif %}
                <span class="current">
                    Page {{ posts.number }} of {{ posts.paginator.num_pages }}
                </span>
                {% if posts.has_next %}
                    <a href="?page={{ posts.next_page_number }}"><i class="far fa-arrow-alt-circle-right"></i></a>
                {% endif %}
            </span>
        </div>

    {% else %}
        <h1>Sorry, No Posts Available.</h1>
    {% endif %}
</div>